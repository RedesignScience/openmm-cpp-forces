<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CustomSummation &#8212; OpenMM Laboratory  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=d72ef124" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=ccdb6887"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ExtendedCustomCVForce" href="ExtendedCustomCVForce.html" />
    <link rel="prev" title="Python API" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="customsummation">
<h1>CustomSummation<a class="headerlink" href="#customsummation" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="openmmlab.CustomSummation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CustomSummation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class allows users to define a custom function of a fixed number of arguments,
which can be evaluated in an <a class="reference external" href="http://docs.openmm.org/latest/api-python/generated/openmm.openmm.Platform.html">openmm.Platform</a>. Such function is a sum whose terms
depend on the function arguments, as well as on a number of per-term and overall
parameters.</p>
<p><a class="reference internal" href="#openmmlab.CustomSummation" title="openmmlab.CustomSummation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CustomSummation</span></code></a> evaluates a user supplied algebraic expression to determine
the value of each term. In this expression, we refer to the custom function arguments
as x1, y1, z1, x2, y2, z2, x3, etc.</p>
<p>The expression may involve the operators + (add), - (subtract), * (multiply),
/ (divide), and ^ (power), and the following functions: sqrt, exp, log, sin, cos,
sec, csc, tan, cot, asin, acos, atan, atan2, sinh, cosh, tanh, erf, erfc, min, max,
abs, floor, ceil, step, delta, select.  All trigonometric functions are defined in
radians, and log is the natural logarithm.  step(x) = 0 if x is less than 0,
1 otherwise.  delta(x) = 1 if x is 0, 0 otherwise. select(x,y,z) = z if x = 0,
y otherwise.</p>
<p>The expression may also depend on the following variables and functions:</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>p1</strong>, <strong>p2</strong>, <strong>p3</strong>, …: names given to three-dimensional points defined as</dt><dd><p>(x1, y1, z1), (x2, y2, z2), and so on. If the number of arguments is not a
multiple of 3, the last of these points is completed with zeros.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>distance(p1, p2)</strong>: the distance between points p1 and p2 (where p1 and p2 may</dt><dd><p>be replaced by any valid point names.</p>
</dd>
</dl>
</li>
<li><p><strong>angle(p1, p2, p3)</strong>: the angle formed by the three specified points.</p></li>
<li><dl class="simple">
<dt><strong>dihedral(p1, p2, p3, p4)</strong>: the dihedral angle formed by the four specified</dt><dd><p>points, guaranteed to be in the range <span class="math notranslate nohighlight">\([-\pi, +\pi]\)</span>.</p>
</dd>
</dl>
</li>
</ul>
<p>This class also supports the functions <strong>pointdistance()</strong>, <strong>pointangle()</strong>, and
<strong>pointdihedral()</strong>, which require 6, 9, and 12 arguments, respectively. These
functions are similar to distance(), angle(), and dihedral(), but their arguments
can be any evaluatable expressions. For example, the following expression computes
the distance from point p1 to the midpoint between p2 and p3.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expression</span> <span class="o">=</span> <span class="s2">&quot;pointdistance(x1, y1, z1, (x2+x3)/2, (y2+y3)/2, (z2+z3)/2)&quot;</span>
</pre></div>
</div>
<p>To use this class, create a <a class="reference internal" href="#openmmlab.CustomSummation" title="openmmlab.CustomSummation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CustomSummation</span></code></a> object, passing the following
data to the constructor:</p>
<ol class="arabic simple">
<li><p>the number of arguments</p></li>
<li><p>an algebraic expression that defines each term of the sum</p></li>
<li><p>a dictionary of overall parameter names and their values</p></li>
<li><p>a list of per-term parameter names</p></li>
<li><p>the <a class="reference external" href="http://docs.openmm.org/latest/api-python/generated/openmm.openmm.Platform.html">openmm.Platform</a> to use for the calculations</p></li>
<li><p>a dictionary of platform-specific property names and values</p></li>
</ol>
<p>In order to evaluate the sum, call <a class="reference internal" href="#openmmlab.CustomSummation.evaluate" title="openmmlab.CustomSummation.evaluate"><code class="xref py py-func docutils literal notranslate"><span class="pre">evaluate()</span></code></a>. This class
also has the ability to compute derivatives of the sum with respect to the
arguments. To do so, call <a class="reference internal" href="#openmmlab.CustomSummation.evaluateDerivative" title="openmmlab.CustomSummation.evaluateDerivative"><code class="xref py py-func docutils literal notranslate"><span class="pre">evaluateDerivative()</span></code></a>.</p>
<p>The function is initialized without any terms, meaning that any call to
<a class="reference internal" href="#openmmlab.CustomSummation.evaluate" title="openmmlab.CustomSummation.evaluate"><code class="xref py py-func docutils literal notranslate"><span class="pre">evaluate()</span></code></a> or <a class="reference internal" href="#openmmlab.CustomSummation.evaluateDerivative" title="openmmlab.CustomSummation.evaluateDerivative"><code class="xref py py-func docutils literal notranslate"><span class="pre">evaluateDerivative()</span></code></a>
will return 0. You must call <a class="reference internal" href="#openmmlab.CustomSummation.addTerm" title="openmmlab.CustomSummation.addTerm"><code class="xref py py-func docutils literal notranslate"><span class="pre">addTerm()</span></code></a> to add terms to the
summation and specify their parameters. After all terms have been added, then call
<a class="reference internal" href="#openmmlab.CustomSummation.update" title="openmmlab.CustomSummation.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a> to turn them effective. You can still add
more terms after that or modify the parameters of existing terms by
calling <a class="reference internal" href="#openmmlab.CustomSummation.setTerm" title="openmmlab.CustomSummation.setTerm"><code class="xref py py-func docutils literal notranslate"><span class="pre">setTerm()</span></code></a>. However, none of these changes become
effective until <a class="reference internal" href="#openmmlab.CustomSummation.update" title="openmmlab.CustomSummation.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a> is called again.</p>
<p>Finally, you can change the overall parameters of the summation by calling
<code class="xref py py-func docutils literal notranslate"><span class="pre">setParameters()</span></code>. These change become effective immediately,
with no need for neither a reinitialization nor an update.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numArgs</strong> (<em>int</em>) – The number of arguments the generated function takes.</p></li>
<li><p><strong>expression</strong> (<em>str</em>) – The algebraic expression that defines each term in the summation.</p></li>
<li><p><strong>overallParameters</strong> (<em>Dict[str, float]</em>) – A dictionary containing the names and default values of the parameters that
are shared by all terms of the summation. Not to be confused with global
context parameters</p></li>
<li><p><strong>perTermParameters</strong> (<em>List[str]</em>) – A list containing the names of the parameters that are unique to each term of
the summation</p></li>
<li><p><strong>platform</strong> (OpenMM::<cite>Platform</cite>) – The platform that will be used to evaluate the summation</p></li>
<li><p><strong>properties</strong> (<em>Dict[str, str]</em>) – A dictionary defining a set of values for platform-specific properties</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The following code creates a CustomSummation that evaluates a Gaussian mixture
in a three-dimensional space. All kernels have the same standard deviation, but
different means. A kernel is added for each vertex of a unit cube. Then, the sum
is evaluated for a point in the middle of the cube.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function</span> <span class="o">=</span> <span class="n">openmmlab</span><span class="o">.</span><span class="n">CustomSummation</span><span class="p">(</span>
<span class="gp">... </span>    <span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;exp(-((x1-mux)^2+(y1-muy)^2+(z1-muz)^2)/(2*sigma^2))/sqrt(6.2832*sigma^2)&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s2">&quot;sigma&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s2">&quot;mux&quot;</span><span class="p">,</span> <span class="s2">&quot;muy&quot;</span><span class="p">,</span> <span class="s2">&quot;muz&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">openmm</span><span class="o">.</span><span class="n">Platform</span><span class="o">.</span><span class="n">getPlatformByName</span><span class="p">(</span><span class="s2">&quot;CUDA&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function</span><span class="o">.</span><span class="n">addTerm</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function</span><span class="o">.</span><span class="n">addTerm</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function</span><span class="o">.</span><span class="n">addTerm</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function</span><span class="o">.</span><span class="n">addTerm</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function</span><span class="o">.</span><span class="n">addTerm</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function</span><span class="o">.</span><span class="n">addTerm</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function</span><span class="o">.</span><span class="n">addTerm</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function</span><span class="o">.</span><span class="n">addTerm</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="n">evaluate</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.addTerm" title="openmmlab.CustomSummation.addTerm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">addTerm</span></code></a>(parameters)</p></td>
<td><p>Add a new term to the summation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.evaluate" title="openmmlab.CustomSummation.evaluate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">evaluate</span></code></a>(arguments)</p></td>
<td><p>Evaluate the function.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.evaluateDerivative" title="openmmlab.CustomSummation.evaluateDerivative"><code class="xref py py-obj docutils literal notranslate"><span class="pre">evaluateDerivative</span></code></a>(arguments, which)</p></td>
<td><p>Evaluate a derivative of the function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.getExpression" title="openmmlab.CustomSummation.getExpression"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getExpression</span></code></a>()</p></td>
<td><p>Get the expression for each term of the summation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.getNumArguments" title="openmmlab.CustomSummation.getNumArguments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getNumArguments</span></code></a>()</p></td>
<td><p>Get the number of arguments this summation expects.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.getNumTerms" title="openmmlab.CustomSummation.getNumTerms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getNumTerms</span></code></a>()</p></td>
<td><p>Get the number of terms in the summation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.getOverallParameters" title="openmmlab.CustomSummation.getOverallParameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getOverallParameters</span></code></a>()</p></td>
<td><p>Get a dictionary with the names and values of the overall parameters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.getParameter" title="openmmlab.CustomSummation.getParameter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getParameter</span></code></a>(name)</p></td>
<td><p>Get the value of an overall parameter.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.getPerTermParameters" title="openmmlab.CustomSummation.getPerTermParameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getPerTermParameters</span></code></a>()</p></td>
<td><p>Get a list of the names of the per-term parameters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.getPlatform" title="openmmlab.CustomSummation.getPlatform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getPlatform</span></code></a>()</p></td>
<td><p>Get the platform used to evaluate the summation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.getPlatformProperties" title="openmmlab.CustomSummation.getPlatformProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getPlatformProperties</span></code></a>()</p></td>
<td><p>Get the platform-specific properties used to evaluate the summation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.getTerm" title="openmmlab.CustomSummation.getTerm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getTerm</span></code></a>(index)</p></td>
<td><p>Get the parameters of a term.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.setParameter" title="openmmlab.CustomSummation.setParameter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setParameter</span></code></a>(name, value)</p></td>
<td><p>Set the value of an overall parameter.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.setTerm" title="openmmlab.CustomSummation.setTerm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setTerm</span></code></a>(index, parameters)</p></td>
<td><p>Set the parameters of a term.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openmmlab.CustomSummation.update" title="openmmlab.CustomSummation.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a>()</p></td>
<td><p>Update the custom summation after adding new terms or changing parameters of existing ones.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">thisown</span></code></p></td>
<td><p>The membership flag</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.addTerm">
<span class="sig-name descname"><span class="pre">addTerm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.addTerm" title="Link to this definition">¶</a></dt>
<dd><p>Add a new term to the summation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method does not take effect immediately. You must call
<a class="reference internal" href="#openmmlab.CustomSummation.update" title="openmmlab.CustomSummation.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a> to turn it effective.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>List[float]</em>) – the parameters of the new term</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>int</em> – the index of the new term</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if the passed vector has the wrong number of parameters</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arguments</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.evaluate" title="Link to this definition">¶</a></dt>
<dd><p>Evaluate the function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arguments</strong> (<em>List[float]</em>) – a vector of argument values</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – the value of the function</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.evaluateDerivative">
<span class="sig-name descname"><span class="pre">evaluateDerivative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arguments</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.evaluateDerivative" title="Link to this definition">¶</a></dt>
<dd><p>Evaluate a derivative of the function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arguments</strong> (<em>List[float]</em>) – a vector of argument values</p></li>
<li><p><strong>which</strong> (<em>int</em>) – the index of the argument for which to evaluate the derivative</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – the value of the derivative</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.getExpression">
<span class="sig-name descname"><span class="pre">getExpression</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.getExpression" title="Link to this definition">¶</a></dt>
<dd><p>Get the expression for each term of the summation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.getNumArguments">
<span class="sig-name descname"><span class="pre">getNumArguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.getNumArguments" title="Link to this definition">¶</a></dt>
<dd><p>Get the number of arguments this summation expects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.getNumTerms">
<span class="sig-name descname"><span class="pre">getNumTerms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.getNumTerms" title="Link to this definition">¶</a></dt>
<dd><p>Get the number of terms in the summation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.getOverallParameters">
<span class="sig-name descname"><span class="pre">getOverallParameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.getOverallParameters" title="Link to this definition">¶</a></dt>
<dd><p>Get a dictionary with the names and values of the overall parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.getParameter">
<span class="sig-name descname"><span class="pre">getParameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.getParameter" title="Link to this definition">¶</a></dt>
<dd><p>Get the value of an overall parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – the name of the parameter</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – the value of the parameter</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.getPerTermParameters">
<span class="sig-name descname"><span class="pre">getPerTermParameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.getPerTermParameters" title="Link to this definition">¶</a></dt>
<dd><p>Get a list of the names of the per-term parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.getPlatform">
<span class="sig-name descname"><span class="pre">getPlatform</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.getPlatform" title="Link to this definition">¶</a></dt>
<dd><p>Get the platform used to evaluate the summation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.getPlatformProperties">
<span class="sig-name descname"><span class="pre">getPlatformProperties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.getPlatformProperties" title="Link to this definition">¶</a></dt>
<dd><p>Get the platform-specific properties used to evaluate the summation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.getTerm">
<span class="sig-name descname"><span class="pre">getTerm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.getTerm" title="Link to this definition">¶</a></dt>
<dd><p>Get the parameters of a term.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<em>int</em>) – the index of the term</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>List[float]</em> – the list of parameters values</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.setParameter">
<span class="sig-name descname"><span class="pre">setParameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.setParameter" title="Link to this definition">¶</a></dt>
<dd><p>Set the value of an overall parameter.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will take effect immediately, with no need to
call <a class="reference internal" href="#openmmlab.CustomSummation.update" title="openmmlab.CustomSummation.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – the name of the parameter</p></li>
<li><p><strong>value</strong> (<em>float</em>) – the value of the parameter</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.setTerm">
<span class="sig-name descname"><span class="pre">setTerm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.setTerm" title="Link to this definition">¶</a></dt>
<dd><p>Set the parameters of a term.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method does not take effect immediately. You must call
<a class="reference internal" href="#openmmlab.CustomSummation.update" title="openmmlab.CustomSummation.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a> to turn it effective.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – the index of the term</p></li>
<li><p><strong>parameters</strong> (<em>List[float]</em>) – the new parameters for the term</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – if the passed vector has the wrong number of parameters</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openmmlab.CustomSummation.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openmmlab.CustomSummation.update" title="Link to this definition">¶</a></dt>
<dd><p>Update the custom summation after adding new terms or changing parameters of
existing ones.</p>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo_small.png" alt="Logo" />
    
    <h1 class="logo logo-name">OpenMM Laboratory</h1>
    
  </a>
</p>











<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Python API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">CustomSummation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ExtendedCustomCVForce.html">ExtendedCustomCVForce</a></li>
<li class="toctree-l2"><a class="reference internal" href="SlicedNonbondedForce.html">SlicedNonbondedForce</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Author</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2023, Charlles Abreu. Project based on OpenMM.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/pythonapi/CustomSummation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>